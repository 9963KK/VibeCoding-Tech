---
description: è‡ªåŠ¨ç»§ç»­æ¨è¿›é¡¹ç›®ä»»åŠ¡ï¼ŒåŸºäºå½“å‰æ–‡æ¡£è¿›åº¦
agent: build
---

# /jvibe-keepgo - è‡ªåŠ¨æ¨è¿›ä¸‹ä¸€æ­¥

ç”¨æˆ·åªéœ€åå¤æ‰§è¡Œæ­¤å‘½ä»¤ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«çŠ¶æ€å¹¶æ¨è¿›å¼€å‘ã€‚

## æ ¸å¿ƒç†å¿µ

```
ç”¨æˆ·ä¸éœ€è¦æ€è€ƒ"ä¸‹ä¸€æ­¥åšä»€ä¹ˆ"
åªéœ€è¦ä¸æ–­è¯´ "keepgo"ï¼ŒAI è‡ªåŠ¨åˆ¤æ–­å¹¶æ‰§è¡Œ
```

**å…³é”®ç‰¹æ€§**ï¼š
- **ä¸»åŠ¨æ¨è¿›**ï¼šä¸å¡ä½ç­‰ç”¨æˆ·ï¼Œè‡ªåŠ¨æ‰§è¡Œä¸‹ä¸€æ­¥
- **é˜¶æ®µç¡®è®¤**ï¼šåœ¨å…³é”®èŠ‚ç‚¹è¯·æ±‚ç”¨æˆ·ç¡®è®¤
- **ä¾èµ–æ„ŸçŸ¥**ï¼šæŒ‰æ¨¡å—ä¾èµ–é¡ºåºè§„åˆ’å’Œå¼€å‘
- **å…ˆè§„èŒƒåŒ–å†å†³ç­–**ï¼šå…ˆç”ŸæˆçŠ¶æ€å¿«ç…§ä¸ phase/substateï¼Œå†æ‰§è¡ŒåŠ¨ä½œ
- **å¼‚å¸¸å¤„ç†ä¸€è‡´**ï¼šéµå¾ª `.opencode/error-handling.md`

---

## ç”¨æˆ·ç¡®è®¤ç‚¹

keepgo åœ¨ä»¥ä¸‹é˜¶æ®µä¼šæš‚åœè¯·æ±‚ç”¨æˆ·ç¡®è®¤ï¼š

| é˜¶æ®µ | ç¡®è®¤å†…å®¹ | ç¡®è®¤åç»§ç»­ |
|------|----------|-----------|
| **åŠŸèƒ½è§„åˆ’å®Œæˆ** | åˆ—å‡ºä¸ºå½“å‰æ¨¡å—è§„åˆ’çš„åŠŸèƒ½åˆ—è¡¨ | è°ƒç”¨ planner åˆ›å»º TODO |
| **åŠŸèƒ½å®ç°å®Œæˆ** | å±•ç¤ºå·²å®Œæˆçš„åŠŸèƒ½å’Œä»£ç æ”¹åŠ¨ | ç»§ç»­ä¸‹ä¸€ä¸ªåŠŸèƒ½ |
| **æ¨¡å—å®Œæˆ** | æ±‡æ€»æ¨¡å—æ‰€æœ‰åŠŸèƒ½å®Œæˆæƒ…å†µ | å¼€å§‹ä¸‹ä¸€ä¸ªæ¨¡å— |

---

## çŠ¶æ€æµè½¬å›¾

```
æœªåˆå§‹åŒ–
    â†“ æç¤º /jvibe-init
åˆšåˆå§‹åŒ–
    â†“ è‡ªåŠ¨è¿›å…¥åŠŸèƒ½è§„åˆ’
åŠŸèƒ½è§„åˆ’ä¸­ï¼ˆä¸» agentï¼‰
    â†“ è§„åˆ’æ¨¡å—åŠŸèƒ½åˆ—è¡¨
    â†“ â¸ï¸ ç”¨æˆ·ç¡®è®¤
æœ‰åŠŸèƒ½å¾…è§„åˆ’
    â†“ è°ƒç”¨ planner agent åˆ›å»º TODO
æœ‰åŠŸèƒ½å¾…å¼€å§‹ (âŒ)
    â†“ è°ƒç”¨ developer agent
æœ‰åŠŸèƒ½å¼€å‘ä¸­ (ğŸš§)
    â†“ æŒ‰åºå®Œæˆè¯¥åŠŸèƒ½ TODO
åŠŸèƒ½å³å°†å®Œæˆ
    â†“ â¸ï¸ ç”¨æˆ·ç¡®è®¤
    â†“ çŠ¶æ€è‡ªåŠ¨æ›´æ–°
æ¨¡å—å®Œæˆ
    â†“ â¸ï¸ ç”¨æˆ·ç¡®è®¤
    â†“ å¼€å§‹ä¸‹ä¸€ä¸ªæ¨¡å—
å…¨éƒ¨å®Œæˆ
```

---

## çŠ¶æ€è¾“å…¥ä¸è§„èŒƒåŒ–è¾“å‡º

### å…è®¸è¯»å–çš„è¾“å…¥

**ç”¨äºçŠ¶æ€åˆ¤æ–­çš„æœ€å°è¾“å…¥**ï¼š
- `.jvibe-state.json`
- `docs/core/Feature-List.md`
- `docs/core/Project.md`

**å¯é€‰è¯»å–ï¼ˆä»…è§„åˆ™æŸ¥é˜…ï¼Œä¸å‚ä¸çŠ¶æ€åˆ¤å®šï¼‰**ï¼š
- `docs/core/Standards.md`
- `docs/core/Appendix.md`

### è§„èŒƒåŒ–çŠ¶æ€å¿«ç…§ï¼ˆå¿…é¡»å…ˆäº§å‡ºï¼Œå†åšåŠ¨ä½œï¼‰

```yaml
state:
  initialized: false
  modules_order: []        # ä»é¡¹ç›®æ–‡æ¡£ä¾èµ–å…³ç³»æ¨å¯¼çš„æ‹“æ‰‘åº
  current_module: null     # æŒ‰ modules_order æ‰¾åˆ°ç¬¬ä¸€ä¸ªæœªå…¨éƒ¨âœ…çš„æ¨¡å—
  module_features: {}      # { ModuleName: [F-001, F-002, ...] }
  feature_counts:
    total: 0
    completed: 0
    in_progress: 0
    not_started: 0
  test_required_features: []  # TODO ä¸­åŒ…å«æµ‹è¯•ä»»åŠ¡çš„åŠŸèƒ½
  phase: init | planning | developing | reviewing
  substate: needs_init | first_session | needs_plan | needs_todo | ready_to_start | in_progress | needs_test | feature_done | module_done | all_done
```

### è§£æè§„åˆ™ï¼ˆä¸¥æ ¼ã€ç¡®å®šæ€§ï¼‰

1. **åˆå§‹åŒ–åˆ¤å®š**
   - `initialized = exists(docs/core/Feature-List.md)`
   - `.jvibe-state.json.firstSessionAfterInit` ç¼ºå¤±æ—¶è§†ä¸º `false`
2. **æ¨¡å—ä¸ä¾èµ–è§£æ**
   - è§£æ `docs/core/Project.md` çš„â€œæ¨¡å—æ¸…å•â€ç« èŠ‚
   - æ¨¡å—åï¼šå– `###` æ ‡é¢˜ä¸­ç¬¬ä¸€ä¸ªç©ºæ ¼æˆ– `(` ä¹‹å‰çš„ token
   - ä¾èµ–ï¼šè¯»å– `**ä¾èµ–**:` è¡Œï¼Œé€—å·åˆ†éš”ï¼›`æ— /ç©º` è§†ä¸ºæ— ä¾èµ–
   - ä¾èµ–å›¾å­˜åœ¨å¾ªç¯/ç¼ºå¤±æ¨¡å— â†’ `needs_clarification`
3. **æ¨¡å—åŠŸèƒ½ç´¢å¼•**
   - åœ¨æ¯ä¸ªæ¨¡å—æ®µè½çš„â€œåŠŸèƒ½ç´¢å¼•â€è¡¨ä¸­æå– `F-XXX`
   - è‹¥æŸæ¨¡å—æ— ä»»ä½• `F-XXX` â†’ è¯¥æ¨¡å—è§†ä¸ºâ€œæœªè§„åˆ’â€
   - è‹¥åŠŸèƒ½ç´¢å¼•ä¸­çš„ `F-XXX` ä¸å­˜åœ¨äºåŠŸèƒ½æ¸…å• â†’ `needs_clarification`
4. **åŠŸèƒ½æ¡ç›®è§£æ**
   - åŠŸèƒ½æ¡ç›®è¡Œï¼š`## F-XXX [âœ…/ğŸš§/âŒ] åç§°`
   - TODO é¡¹ï¼š`- [ ]` / `- [x]`
   - è‹¥ TODO æ–‡æœ¬åŒ…å« `æµ‹è¯•` æˆ– `test`ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰â†’ è¯¥åŠŸèƒ½åŠ å…¥ `test_required_features`
5. **å½“å‰æ¨¡å—**
   - `current_module` = `modules_order` ä¸­ç¬¬ä¸€ä¸ªå­˜åœ¨æœªå®Œæˆï¼ˆéâœ…ï¼‰åŠŸèƒ½çš„æ¨¡å—
   - è‹¥ `modules_order` ä¸ºç©º â†’ `needs_clarification`

### Phase / Substate ç”Ÿæˆè§„åˆ™ï¼ˆç®€åŒ–ç‰ˆï¼‰

**ä¼˜å…ˆçº§ 1ï¼šå¼‚å¸¸å¤„ç†**
- `needs_clarification` ä¸ºçœŸæ—¶ â†’ `phase=init`, `substate=needs_clarification`

**ä¼˜å…ˆçº§ 2ï¼šåˆå§‹åŒ–é˜¶æ®µ**
- æœªåˆå§‹åŒ–æˆ–æ ¸å¿ƒæ–‡æ¡£/åŠŸèƒ½æ¸…å•ç¼ºå¤± â†’ `phase=init`, `substate=needs_init`
- `.jvibe-state.json.firstSessionAfterInit=true` â†’ `phase=init`, `substate=first_session`

**ä¼˜å…ˆçº§ 3ï¼šè§„åˆ’é˜¶æ®µ**
- å½“å‰æ¨¡å—æ— ä»»ä½•åŠŸèƒ½æ¡ç›®ï¼ˆåŠŸèƒ½ç´¢å¼•ä¸ºç©ºï¼‰ â†’ `phase=planning`, `substate=needs_plan`
- å½“å‰æ¨¡å—å­˜åœ¨åŠŸèƒ½æ¡ç›®ä½† TODO åˆ—è¡¨ä¸ºç©º â†’ `phase=planning`, `substate=needs_todo`

**ä¼˜å…ˆçº§ 4ï¼šå¼€å‘é˜¶æ®µ**
- å½“å‰æ¨¡å—å­˜åœ¨ âŒ ä¸”æ—  ğŸš§ï¼Œä¸”è¯¥åŠŸèƒ½æœ‰ TODO â†’ `phase=developing`, `substate=ready_to_start`
- å­˜åœ¨è‡³å°‘ä¸€ä¸ª ğŸš§ï¼Œä¸”è¯¥åŠŸèƒ½ä»æœ‰æœªå®Œæˆ TODO â†’ `phase=developing`, `substate=in_progress`
- å­˜åœ¨ ğŸš§ åŠŸèƒ½ä¸” TODO å…¨éƒ¨å®Œæˆï¼Œä¸”è¯¥åŠŸèƒ½åœ¨ `test_required_features` â†’ `phase=developing`, `substate=needs_test`

**ä¼˜å…ˆçº§ 5ï¼šå®¡æŸ¥é˜¶æ®µ**
- æœ¬è½®åˆšå®ŒæˆæŸ ğŸš§ åŠŸèƒ½çš„æœ€åä¸€ä¸ª TODO â†’ `phase=reviewing`, `substate=feature_done`
- å½“å‰æ¨¡å—æ‰€æœ‰åŠŸèƒ½ä¸º âœ…ï¼Œä¸”è‡³å°‘æœ‰ä¸€ä¸ªåŠŸèƒ½ â†’ `phase=reviewing`, `substate=module_done`
- æ‰€æœ‰æ¨¡å—çš„æ‰€æœ‰åŠŸèƒ½ä¸º âœ…ï¼Œä¸”æ€»åŠŸèƒ½æ•° > 0 â†’ `phase=reviewing`, `substate=all_done`

**åŠ¨ä½œé€‰æ‹©**ï¼š
```
action = substate
```

---

## çŠ¶æ€-åŠ¨ä½œæ˜ å°„è¡¨ï¼ˆåŸºäº substateï¼‰

| Substate | æ‰§è¡Œè€… | åŠ¨ä½œ |
|------|--------|------|
| `needs_init` | - | æç¤º `/jvibe-init` |
| `needs_clarification` | ä¸» agent | è¯·æ±‚ç”¨æˆ·ä¿®æ­£æ–‡æ¡£æˆ–ç¡®è®¤å¤„ç†æ–¹å¼ |
| `first_session` | ä¸» agent | è¯»å–æ¨¡å—ä¾èµ–ï¼Œè¿›å…¥åŠŸèƒ½è§„åˆ’ |
| `needs_plan` | ä¸» agent | è§„åˆ’åŠŸèƒ½åˆ—è¡¨ â†’ **è¯·æ±‚ç¡®è®¤** |
| `needs_todo` | **planner** | åˆ›å»º F-XXX æ¡ç›®å’Œ TODO |
| `ready_to_start` | **developer** | æ‰§è¡Œå½“å‰åŠŸèƒ½çš„**å…¨éƒ¨ TODO**ï¼ˆæŒ‰åºï¼‰ |
| `in_progress` | **developer** | ç»§ç»­å½“å‰åŠŸèƒ½çš„**å‰©ä½™ TODO**ï¼ˆæŒ‰åºï¼‰ |
| `needs_test` | **tester** | è¿è¡Œæµ‹è¯•å¹¶è¾“å‡ºç»“æ„åŒ–æŠ¥å‘Š |
| `feature_done` | ä¸» agent | å±•ç¤ºå®Œæˆæƒ…å†µ â†’ **è¯·æ±‚ç¡®è®¤** |
| `module_done` | ä¸» agent | æ±‡æ€» â†’ **è¯·æ±‚ç¡®è®¤** â†’ ä¸‹ä¸€æ¨¡å— |
| `all_done` | - | æç¤ºé¡¹ç›®å®Œæˆ |

---

## æ´¾å‘è§„åˆ™ï¼ˆç¡¬çº¦æŸï¼‰

```yaml
dispatch_rules:
  - when: action == needs_todo
    must_call: planner
    main_agent_write: forbidden
  - when: action in [ready_to_start, in_progress]
    must_call: developer
    main_agent_write: forbidden
  - when: action == needs_test
    must_call: tester
    main_agent_write: docs_only
  - when: action in [needs_plan, feature_done, module_done, needs_clarification, needs_init, first_session, all_done]
    must_call: none
    main_agent_write: docs_only

enforcement:
  - if: must_call != none and subagent_call_not_made
    then: abort("MUST_CALL_SUBAGENT")
  - if: main_agent_write == forbidden and main_agent_attempts_write
    then: abort("NO_MAIN_AGENT_WRITE")
  - if: subagent_unavailable
    then: ask_user_and_stop
```

---

## äº¤æ¥åè®®ï¼ˆç»Ÿä¸€ payloadï¼‰

```yaml
handoff:
  target: tester | doc-sync | reviewer
  action: run_tests | check_status | review
  payload:
    feature: F-XXX
    files: []
    scope: unit|integration|e2e
    notes: ""
```

**æ‰§è¡Œè§„åˆ™**ï¼š
- å¦‚æœ developer è¿”å› `handoff.target: tester` â†’ ä¸» agent å¿…é¡»è°ƒç”¨ tester
- å¦‚æœ tester `result.verdict == pass` â†’ ä¸» agent æ›´æ–°åŠŸèƒ½çŠ¶æ€ä¸º âœ…
- å¦‚æœ tester `result.verdict != pass` â†’ ä¸» agent å›é€€åˆ° developer å¤„ç†
- å¦‚æœ subagent è¿”å› `update_requests` â†’ ä¸» agent å¿…é¡»æ‰§è¡Œæˆ–è¯¢é—®ç”¨æˆ·ç¡®è®¤åæ‰§è¡Œ

---

## æ‰§è¡Œæµç¨‹è¯¦è§£

### é˜¶æ®µ 0ï¼šè§„èŒƒåŒ–çŠ¶æ€ï¼ˆæ¯æ¬¡æ‰§è¡Œéƒ½å¿…é¡»ï¼‰

```
åŠ¨ä½œï¼š
  1. è¯»å–å…è®¸è¾“å…¥
  2. è¾“å‡º state å¿«ç…§
  3. ç”Ÿæˆ phase / substate
  4. action = substate
```

### action = needs_init

```
åŠ¨ä½œï¼šæç¤ºå…ˆè¿è¡Œ /jvibe-init
```

### action = needs_clarification

```
åŠ¨ä½œï¼š
  1. è¾“å‡ºä¸ä¸€è‡´ç‚¹ï¼ˆæœ€å¤š 3 æ¡ï¼‰
  2. AskUserQuestion è¯·æ±‚ç”¨æˆ·ä¿®æ­£æˆ–ç¡®è®¤å¤„ç†æ–¹å¼
  3. æœ¬è½®ä¸ä¿®æ”¹ä»»ä½•æ–‡ä»¶
```

### action = first_session

```
åŠ¨ä½œï¼š
  1. è¯»å–é¡¹ç›®æ–‡æ¡£æ¨¡å—ä¾èµ–
  2. é€‰æ‹©ä¾èµ–é“¾åº•å±‚æ¨¡å—ä½œä¸ºèµ·å§‹æ¨¡å—
  3. è¿›å…¥åŠŸèƒ½è§„åˆ’ï¼ˆneeds_planï¼‰
```

### action = needs_plan

```
åŠ¨ä½œï¼š
  1. åˆ†ææ¨¡å—èŒè´£å’Œè¾¹ç•Œï¼ˆä»é¡¹ç›®æ–‡æ¡£ï¼‰
  2. è§„åˆ’è¯¥æ¨¡å—åº”åŒ…å«çš„åŠŸèƒ½åˆ—è¡¨ï¼ˆ3-6ä¸ªåŠŸèƒ½ï¼‰
  3. ä½¿ç”¨ AskUserQuestion è¯·æ±‚ç¡®è®¤ï¼š
     "ä¸º [æ¨¡å—å] è§„åˆ’äº†ä»¥ä¸‹åŠŸèƒ½ï¼Œæ˜¯å¦ç¡®è®¤ï¼Ÿ"
     - åŠŸèƒ½1ï¼šxxx
     - åŠŸèƒ½2ï¼šxxx
     ...
è¾“å‡ºï¼šåŠŸèƒ½è§„åˆ’åˆ—è¡¨ï¼Œç­‰å¾…ç”¨æˆ·ç¡®è®¤
```

**ç¡®è®¤é€‰é¡¹**ï¼š
```yaml
questions:
  - question: "ä»¥ä¸ŠåŠŸèƒ½è§„åˆ’æ˜¯å¦ç¡®è®¤ï¼Ÿ"
    header: "ç¡®è®¤è§„åˆ’"
    multiSelect: false
    options:
      - label: "ç¡®è®¤ï¼Œå¼€å§‹åˆ›å»º TODO"
        description: "ä½¿ç”¨å½“å‰è§„åˆ’ï¼Œè°ƒç”¨ planner åˆ›å»ºè¯¦ç»† TODO"
      - label: "éœ€è¦è°ƒæ•´"
        description: "ä¿®æ”¹åŠŸèƒ½åˆ—è¡¨åå†ç»§ç»­"
      - label: "è·³è¿‡æ­¤æ¨¡å—"
        description: "æš‚æ—¶ä¸å¼€å‘æ­¤æ¨¡å—ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ª"
```

### action = needs_todo

```
æ‰§è¡Œè€…ï¼šplanner agent
åŠ¨ä½œï¼š
  1. é€ä¸ªè°ƒç”¨ planner agent
  2. ä¸ºæ¯ä¸ªåŠŸèƒ½åˆ›å»º F-XXX æ¡ç›®
  3. ç”Ÿæˆè¯¦ç»† TODO åˆ—è¡¨
è¾“å‡ºï¼šåˆ›å»ºäº† N ä¸ªåŠŸèƒ½æ¡ç›®
```

### action = ready_to_start

```
æ‰§è¡Œè€…ï¼šdeveloper agent
åŠ¨ä½œï¼š
  1. é€‰æ‹©å½“å‰æ¨¡å—çš„ç¬¬ä¸€ä¸ª âŒ åŠŸèƒ½
  2. è°ƒç”¨ developer agent
  3. æ‰§è¡Œè¯¥åŠŸèƒ½çš„æ‰€æœ‰ TODOï¼ˆæŒ‰åºï¼‰
  4. è‹¥é‡é˜»å¡åˆ™åœæ­¢å¹¶ä¸ŠæŠ¥
è¾“å‡ºï¼šå¼€å§‹äº†å“ªä¸ªåŠŸèƒ½ï¼Œå®Œæˆäº†å“ªäº› TODO
```

### action = in_progress

```
æ‰§è¡Œè€…ï¼šdeveloper agent
åŠ¨ä½œï¼š
  1. æ‰¾åˆ° ğŸš§ åŠŸèƒ½çš„ TODO åˆ—è¡¨
  2. è°ƒç”¨ developer agent
  3. ç»§ç»­æ‰§è¡Œæœªå®Œæˆ [ ] çš„ TODOï¼ˆæŒ‰åºï¼‰
  4. å®Œæˆåå°† [ ] æ”¹ä¸º [x]
  5. è‹¥é‡é˜»å¡åˆ™åœæ­¢å¹¶ä¸ŠæŠ¥
è¾“å‡ºï¼šå®Œæˆäº†å“ªäº› TODOï¼Œå½“å‰è¿›åº¦
```

### action = needs_test

```
æ‰§è¡Œè€…ï¼štester agent
åŠ¨ä½œï¼š
  1. åŸºäº Feature-List ä¸ Project æå–æµ‹è¯•èŒƒå›´
  2. ä½¿ç”¨éš”ç¦»ç¯å¢ƒè¿è¡Œæœ€å°æµ‹è¯•é›†
  3. è¾“å‡ºç»“æ„åŒ–æµ‹è¯•æŠ¥å‘Šï¼ˆå«å¤±è´¥åŸå› ä¸é£é™©ï¼‰
  4. è‹¥æµ‹è¯•é€šè¿‡ï¼Œä¸» agent å°†è¯¥åŠŸèƒ½çŠ¶æ€æ›´æ–°ä¸º âœ…
è¾“å‡ºï¼šresult
```

### action = feature_done

```
åŠ¨ä½œï¼š
  1. å±•ç¤ºåŠŸèƒ½å®Œæˆæƒ…å†µ
  2. ä½¿ç”¨ AskUserQuestion è¯·æ±‚ç¡®è®¤ï¼š
     "F-XXX [åŠŸèƒ½å] å·²å®Œæˆï¼Œè¯·æ ¸å¯¹"
è¾“å‡ºï¼šåŠŸèƒ½å®Œæˆè¯¦æƒ…ï¼Œç­‰å¾…ç¡®è®¤ï¼ˆä¸ä¿®æ”¹çŠ¶æ€ç¬¦å·ï¼‰
```

**ç¡®è®¤é€‰é¡¹**ï¼š
```yaml
questions:
  - question: "åŠŸèƒ½å®ç°æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Ÿ"
    header: "ç¡®è®¤å®Œæˆ"
    multiSelect: false
    options:
      - label: "ç¡®è®¤å®Œæˆ"
        description: "æ ‡è®°åŠŸèƒ½ä¸ºå®Œæˆï¼Œç»§ç»­ä¸‹ä¸€ä¸ª"
      - label: "éœ€è¦è¡¥å……"
        description: "æ·»åŠ é¢å¤– TODO åå†å®Œæˆ"
      - label: "éœ€è¦ä¿®æ”¹"
        description: "å¯¹å·²å®ç°çš„ä»£ç è¿›è¡Œè°ƒæ•´"
```

### action = module_done

```
åŠ¨ä½œï¼š
  1. æ±‡æ€»æ¨¡å—å®Œæˆæƒ…å†µ
  2. ä½¿ç”¨ AskUserQuestion è¯·æ±‚ç¡®è®¤
  3. ç¡®è®¤åè¿›å…¥ä¸‹ä¸€ä¸ªæ¨¡å—çš„åŠŸèƒ½è§„åˆ’
è¾“å‡ºï¼šæ¨¡å—å®Œæˆæ±‡æ€»ï¼Œä¸‹ä¸€æ¨¡å—é¢„è§ˆ
```

### action = all_done

```
åŠ¨ä½œï¼šä¸æ‰§è¡Œ
è¾“å‡ºï¼šé¡¹ç›®æ‰€æœ‰åŠŸèƒ½å·²å®Œæˆï¼Œå»ºè®®æ·»åŠ æ–°åŠŸèƒ½
```

---

## æ¨¡å—ä¾èµ–æ’åº

è¯»å–é¡¹ç›®æ–‡æ¡£ä¸­çš„æ¨¡å—ä¾èµ–å…³ç³»ï¼ŒæŒ‰**æ‹“æ‰‘æ’åº**ç¡®å®šå¼€å‘é¡ºåºï¼š

```
ç¤ºä¾‹ä¾èµ–ï¼š
  OrderModule â†’ ProductModule â†’ AuthModule
  OrderModule â†’ CustomerModule â†’ AuthModule

æ’åºç»“æœï¼ˆåº•å±‚ä¼˜å…ˆï¼‰ï¼š
  1. AuthModuleï¼ˆæ— ä¾èµ–ï¼‰
  2. ProductModuleï¼ˆä¾èµ– Authï¼‰
  3. CustomerModuleï¼ˆä¾èµ– Authï¼‰
  4. OrderModuleï¼ˆä¾èµ– Product + Customerï¼‰
```

---

## Agent è°ƒç”¨è§„åˆ™

| ä»»åŠ¡ç±»å‹ | è°ƒç”¨è° | è¯´æ˜ |
|----------|--------|------|
| è§„åˆ’æ¨¡å—åŒ…å«å“ªäº›åŠŸèƒ½ | **ä¸» agent** | åˆ†ææ¨¡å—èŒè´£ï¼Œè¾“å‡ºåŠŸèƒ½åˆ—è¡¨ |
| åˆ›å»ºåŠŸèƒ½ TODO åˆ—è¡¨ | **planner agent** | ç”Ÿæˆ F-XXX æ¡ç›®å’Œè¯¦ç»† TODO |
| æ‰§è¡ŒåŠŸèƒ½ TODO | **developer agent** | å•åŠŸèƒ½çª—å£ï¼ŒæŒ‰åºå®Œæˆ TODO |
| ç”¨æˆ·ç¡®è®¤äº¤äº’ | **ä¸» agent** | ä½¿ç”¨ AskUserQuestion |

---

## Developer è°ƒç”¨åè®®ï¼ˆåŠŸèƒ½çº§ï¼‰

### è°ƒç”¨åŸåˆ™

- **ä¸€ä¸ªåŠŸèƒ½ä¸€ä¸ª developer çª—å£**
- æ¯æ¬¡è°ƒç”¨ä»…å¤„ç†ä¸€ä¸ª `F-XXX`
- ç›®æ ‡æ˜¯ä¸€æ¬¡å®Œæˆè¯¥åŠŸèƒ½çš„**å…¨éƒ¨ TODO**
- ä¸åˆ‡æ¢åŠŸèƒ½ã€ä¸å¹¶è¡Œå¤„ç†å¤šä¸ªåŠŸèƒ½
- è¾“å…¥ä»…åŒ…å«è¯¥åŠŸèƒ½çš„ TODO åˆ—è¡¨ï¼Œä¸é™„å¸¦å…¶ä»–åŠŸèƒ½å†…å®¹

### è¾“å…¥è´Ÿè½½ï¼ˆä¸» agent â†’ developerï¼‰

```yaml
task: å®Œæˆ F-XXX çš„æ‰€æœ‰ TODO
feature:
  id: F-XXX
  name: <åŠŸèƒ½å>
  module: <æ¨¡å—å>
  todo_list:
    - "[ ] TODO 1"
    - "[ ] TODO 2"
    - "[ ] TODO 3"
code_locations:
  - <é¡¹ç›®æ–‡æ¡£ä¸­çš„ä»£ç è½ç‚¹è·¯å¾„>
constraints:
  writable:
    - docs/core/Feature-List.md
    - <ä»£ç è½ç‚¹è·¯å¾„>
    - <TODO æŒ‡å®šçš„æµ‹è¯•æ–‡ä»¶ï¼ˆå¦‚æœ‰ï¼‰>
  forbidden:
    - .opencode/**
    - .claude/**
    - .jvibe-state.json
    - package.json
    - lockfiles
    - .gitignore
  no_ops:
    - "no install"
    - "no network"
    - "no tests/scripts unless user requested"
rules:
  - "ä¸æ‰‹åŠ¨ä¿®æ”¹ âœ…/ğŸš§/âŒï¼Œåªå‹¾é€‰ TODO"
  - "æŒ‰ todo_list é¡ºåºæ‰§è¡Œ"
```

### TODO æ‰§è¡Œæ¨¡æ¿ï¼ˆdeveloper å†…éƒ¨ä½¿ç”¨ï¼‰

```
å¯¹æ¯ä¸ª TODOï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤ï¼š
1) å®šä½ï¼šåŸºäº code_locations æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶/å‡½æ•°
2) å®ç°ï¼šå®Œæˆ TODO è¦æ±‚çš„æœ€å°æ”¹åŠ¨
3) æ ¡éªŒï¼šä»…åœ¨ç”¨æˆ·è¦æ±‚æ—¶è¿è¡Œæµ‹è¯•ï¼›å¦åˆ™è¯´æ˜æœªè¿è¡Œ
4) å‹¾é€‰ï¼šåœ¨ docs/core/Feature-List.md å‹¾é€‰è¯¥ TODO
5) è®°å½•ï¼šç”¨ 1 è¡Œæè¿°è¯¥ TODO çš„å…³é”®æ”¹åŠ¨

é‡åˆ°é˜»å¡ï¼š
- ç«‹å³åœæ­¢è¯¥åŠŸèƒ½çš„åç»­ TODO
- è¾“å‡ºé˜»å¡åŸå›  + éœ€è¦ç”¨æˆ·ç¡®è®¤çš„ä¿¡æ¯
```

### è¾“å‡ºè¦æ±‚ï¼ˆdeveloper â†’ ä¸» agentï¼‰

```
å®Œæˆæƒ…å†µï¼š
  âœ… å·²å®Œæˆ TODO: <åˆ—å‡º>
  â³ æœªå®Œæˆ TODO: <åˆ—å‡ºæˆ–æ— >
æ”¹åŠ¨æ‘˜è¦ï¼ˆ<=3è¡Œï¼‰
é˜»å¡/é£é™©ï¼ˆå¦‚æœ‰ï¼‰
```

---

## æ“ä½œè¾¹ç•Œï¼ˆç¡¬çº¦æŸï¼‰

### å…è®¸å†™å…¥

- **ä¸» agent**ï¼šå¯å†™ `docs/**`ï¼ˆå« `docs/core/`ã€`docs/project/`ã€`docs/.jvibe/`ï¼‰
- **planner agent**ï¼šä»…å†™ `docs/core/Feature-List.md`ï¼ˆæ–°å¢ F-XXX + TODOï¼‰
- **developer agent**ï¼šä»…å†™
  - `docs/core/Feature-List.md`ï¼ˆå‹¾é€‰ TODOï¼‰
  - å½“å‰æ¨¡å—â€œä»£ç è½ç‚¹â€æ‰€æŒ‡å‘çš„æºç è·¯å¾„
  - TODO æ˜ç¡®è¦æ±‚çš„æµ‹è¯•æ–‡ä»¶

### ç¦æ­¢å†™å…¥

- é™¤â€œå…è®¸å†™å…¥â€èŒƒå›´å¤–ï¼Œç¦æ­¢ä¿®æ”¹ä»»ä½•æ–‡ä»¶
- ç¦æ­¢ä¿®æ”¹ `.jvibe-state.json`ï¼ˆç”±ç³»ç»Ÿ/Hook ç®¡ç†ï¼‰
- ç¦æ­¢ä¿®æ”¹ `.opencode/` ç›®å½•åŠå…¶å†…å®¹ï¼ˆä»¥åŠ `.claude/`ï¼Œå¦‚å­˜åœ¨ï¼‰
- ç¦æ­¢ä¿®æ”¹ `package.json`ã€é”æ–‡ä»¶ã€`.gitignore`ï¼ˆé™¤é TODO æ˜ç¡®è¦æ±‚ä¸”ç”¨æˆ·ç¡®è®¤ï¼‰

### ç¦æ­¢æ“ä½œ

- ä¸å®‰è£…ä¾èµ–ã€ä¸è”ç½‘ã€ä¸è¿è¡Œæµ‹è¯•æˆ–è„šæœ¬ï¼ˆé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼‰
- ä¸è¿›è¡Œä»“åº“çº§æ“ä½œï¼ˆå¦‚ `git reset`ã€`git checkout`ã€`git push`ï¼‰
- ä¸æ‰«æå…¨ä»“æˆ–è¯»å–ä¸å½“å‰ TODO æ— å…³çš„æ–‡ä»¶

### è¯»å–è§„åˆ™

- ä»…è¯»å–â€œå…è®¸è¾“å…¥â€ä¸å½“å‰ TODO / ä»£ç è½ç‚¹ç›¸å…³æ–‡ä»¶
- TODO æœªæŒ‡å‘å…·ä½“è·¯å¾„æ—¶ï¼Œå…ˆæŸ¥é¡¹ç›®æ–‡æ¡£â€œä»£ç è½ç‚¹â€ï¼Œä»ä¸æ˜ç¡®åˆ™ AskUserQuestion

### çŠ¶æ€æ›´æ–°è§„åˆ™

- **ä¸æ‰‹åŠ¨ä¿®æ”¹åŠŸèƒ½çŠ¶æ€ç¬¦å·ï¼ˆâœ…/ğŸš§/âŒï¼‰**
- ä»…é€šè¿‡å‹¾é€‰ TODO è§¦å‘çŠ¶æ€æ¨å¯¼ï¼ˆç”± Hook è‡ªåŠ¨å®Œæˆï¼‰

---

## è¿è¡Œæ—¶æ ‡å¿—ï¼ˆä¼šè¯çº§ï¼‰

```yaml
flags:
  auto_confirm: false   # ç”¨æˆ·è¯´â€œè‡ªåŠ¨ç»§ç»­â€åç½®ä¸º true
  auto_commit: false    # ç”¨æˆ·è¯´â€œè‡ªåŠ¨æäº¤/auto commitâ€åç½®ä¸º true
```

è§„åˆ™ï¼š
- `auto_confirm` ä»…å½±å“ä¸‹ä¸€æ¬¡ç¡®è®¤ï¼Œä½¿ç”¨åé‡ç½®ä¸º false
- `auto_commit` ä»…åœ¨æœ¬ä¼šè¯æœ‰æ•ˆ

---

## æäº¤è§„åˆ™ï¼ˆä¸¥æ ¼ï¼‰

- ä»…å½“ `auto_commit=true` æ—¶å…è®¸æäº¤
- ä»…åœ¨**æ— å¾…ç¡®è®¤**ä¸”**æœ‰å®é™…æ”¹åŠ¨**æ—¶æäº¤
- æäº¤åŠ¨ä½œç”± **doc-sync** æ‰§è¡Œï¼Œä¸» agent è´Ÿè´£è§¦å‘
- æäº¤ä¿¡æ¯æ¨¡æ¿ï¼š
  - `chore(jvibe): keepgo <action> <F-XXX?>`
  - æ— åŠŸèƒ½ç¼–å·æ—¶çœç•¥ `<F-XXX?>`

---

## è¾“å‡ºæ ¼å¼

### æ­£å¸¸æ‰§è¡Œ

```
========================================
  /keepgo æ‰§è¡Œå®Œæˆ
========================================

å½“å‰çŠ¶æ€ï¼š{action}
å½“å‰æ¨¡å—ï¼š{æ¨¡å—å}
é˜¶æ®µï¼š{phase}
å­çŠ¶æ€ï¼š{substate}

æœ¬è½®ä»»åŠ¡ï¼š
  {ç®€è¿°æ‰§è¡Œçš„å†…å®¹}

æ‰§è¡Œç»“æœï¼š
  {å…³é”®æ”¹åŠ¨ï¼Œæœ€å¤š3è¡Œ}

----------------------------------------
ä¸‹ä¸€æ­¥ï¼š
  - /jvibe-keepgo
========================================
```

### éœ€è¦ç¡®è®¤æ—¶

```
========================================
  /keepgo éœ€è¦ç¡®è®¤
========================================

å½“å‰çŠ¶æ€ï¼š{action}
å½“å‰æ¨¡å—ï¼š{æ¨¡å—å}
é˜¶æ®µï¼š{phase}
å­çŠ¶æ€ï¼š{substate}

å¾…ç¡®è®¤å†…å®¹ï¼š
  {éœ€è¦ç”¨æˆ·ç¡®è®¤çš„å†…å®¹}

[AskUserQuestion ç»„ä»¶æ˜¾ç¤º]
========================================
```

---

## ç¤ºä¾‹æµç¨‹

```
ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šæ£€æµ‹åˆ°åˆšåˆå§‹åŒ–ï¼Œè¯»å–æ¨¡å—ä¾èµ–ï¼ŒAuthModule æ˜¯åº•å±‚æ¨¡å—
    å¼€å§‹ä¸º AuthModule è§„åˆ’åŠŸèƒ½...
    è§„åˆ’äº† 4 ä¸ªåŠŸèƒ½ï¼šç”¨æˆ·æ³¨å†Œã€ç”¨æˆ·ç™»å½•ã€Tokenåˆ·æ–°ã€å¯†ç é‡ç½®
    [è¯·æ±‚ç¡®è®¤]

ç”¨æˆ·ï¼šç¡®è®¤

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šè°ƒç”¨ planner agentï¼Œåˆ›å»º F-001 åˆ° F-004 çš„ TODO åˆ—è¡¨

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šè°ƒç”¨ developer agentï¼Œå¼€å§‹ F-001 ç”¨æˆ·æ³¨å†Œ
    å®Œæˆ TODOï¼šè®¾è®¡ users è¡¨ç»“æ„

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šç»§ç»­ F-001ï¼Œå®Œæˆ TODOï¼šå®ç°æ³¨å†Œ API

... (é‡å¤ keepgo)

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šF-001 æ‰€æœ‰ TODO å®Œæˆ
    [è¯·æ±‚ç¡®è®¤ï¼šåŠŸèƒ½æ˜¯å¦ç¬¦åˆé¢„æœŸ]

ç”¨æˆ·ï¼šç¡®è®¤å®Œæˆ

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šå¼€å§‹ F-002 ç”¨æˆ·ç™»å½•...

... (å¾ªç¯ç›´åˆ°æ¨¡å—å®Œæˆ)

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šAuthModule æ‰€æœ‰åŠŸèƒ½å®Œæˆ
    [è¯·æ±‚ç¡®è®¤ï¼šæ¨¡å—å®Œæˆï¼Œè¿›å…¥ä¸‹ä¸€æ¨¡å—]

ç”¨æˆ·ï¼šç¡®è®¤

ç”¨æˆ·ï¼š/jvibe-keepgo
AIï¼šå¼€å§‹ä¸º ProductModule è§„åˆ’åŠŸèƒ½...
```

---

## æ³¨æ„äº‹é¡¹

1. **å¹‚ç­‰æ€§**ï¼šå¤šæ¬¡æ‰§è¡Œä¸ä¼šé‡å¤æ“ä½œå·²å®Œæˆçš„ä»»åŠ¡
2. **æ–­ç‚¹ç»­ä¼ **ï¼šä»ä¸Šæ¬¡ä¸­æ–­çš„åœ°æ–¹ç»§ç»­
3. **ç¡®è®¤å¯è·³è¿‡**ï¼šä»…å½“ `auto_confirm=true` æ—¶è·³è¿‡ç¡®è®¤ç¯èŠ‚
4. **çŠ¶æ€åŒæ­¥**ï¼šæ¯æ¬¡æ‰§è¡Œå‰éƒ½é‡æ–°è¯»å–æ–‡æ¡£çŠ¶æ€

---

## ä¸¥ç¦è¾“å‡º

- âŒ æ–‡æ¡£ç‰¹ç‚¹åˆ†æ
- âŒ é¡¹ç›®æ¶æ„è¯´æ˜
- âŒ åŠŸèƒ½æ¸…å•å®Œæ•´å†…å®¹
- âŒ ä»£ç è¯¦ç»†è§£é‡Š
- âŒ çŠ¶æ€å¿«ç…§å®Œæ•´ YAMLï¼ˆé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼‰
- âŒ "æ€»ç»“æŠ¥å‘Š" / "å·¥ä½œæ€»ç»“"
